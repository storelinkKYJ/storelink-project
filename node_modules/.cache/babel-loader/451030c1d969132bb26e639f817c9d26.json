{"remainingRequest":"/Users/gim-yeongjae/Desktop/storelink-project/node_modules/babel-loader/lib/index.js!/Users/gim-yeongjae/Desktop/storelink-project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gim-yeongjae/Desktop/storelink-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gim-yeongjae/Desktop/storelink-project/src/views/ui-elements/data-list/DataViewSidebar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gim-yeongjae/Desktop/storelink-project/src/views/ui-elements/data-list/DataViewSidebar.vue","mtime":1610509510884},{"path":"/Users/gim-yeongjae/Desktop/storelink-project/node_modules/cache-loader/dist/cjs.js","mtime":1610346344693},{"path":"/Users/gim-yeongjae/Desktop/storelink-project/node_modules/babel-loader/lib/index.js","mtime":1610344922456},{"path":"/Users/gim-yeongjae/Desktop/storelink-project/node_modules/cache-loader/dist/cjs.js","mtime":1610346344693},{"path":"/Users/gim-yeongjae/Desktop/storelink-project/node_modules/vue-loader/lib/index.js","mtime":1610344923547}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es7.object.entries\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar';\nexport default {\n  props: {\n    isSidebarActive: {\n      type: Boolean,\n      required: true\n    },\n    data: {\n      type: Object,\n      default: function _default() {}\n    }\n  },\n  components: {\n    VuePerfectScrollbar: VuePerfectScrollbar\n  },\n  data: function data() {\n    return {\n      dataId: null,\n      dataName: '',\n      dataCategory: null,\n      dataImg: null,\n      dataOrder_status: 'pending',\n      dataPrice: 0,\n      category_choices: [{\n        text: 'Audio',\n        value: 'audio'\n      }, {\n        text: 'Computers',\n        value: 'computers'\n      }, {\n        text: 'Fitness',\n        value: 'fitness'\n      }, {\n        text: 'Appliance',\n        value: 'appliance'\n      }],\n      order_status_choices: [{\n        text: 'Pending',\n        value: 'pending'\n      }, {\n        text: 'Canceled',\n        value: 'canceled'\n      }, {\n        text: 'Delivered',\n        value: 'delivered'\n      }, {\n        text: 'On Hold',\n        value: 'on_hold'\n      }],\n      settings: {\n        // perfectscrollbar settings\n        maxScrollbarLength: 60,\n        wheelSpeed: .60\n      }\n    };\n  },\n  watch: {\n    isSidebarActive: function isSidebarActive(val) {\n      if (!val) return;\n\n      if (Object.entries(this.data).length === 0) {\n        this.initValues();\n        this.$validator.reset();\n      } else {\n        var _JSON$parse = JSON.parse(JSON.stringify(this.data)),\n            category = _JSON$parse.category,\n            id = _JSON$parse.id,\n            img = _JSON$parse.img,\n            name = _JSON$parse.name,\n            order_status = _JSON$parse.order_status,\n            price = _JSON$parse.price;\n\n        this.dataId = id;\n        this.dataCategory = category;\n        this.dataImg = img;\n        this.dataName = name;\n        this.dataOrder_status = order_status;\n        this.dataPrice = price;\n        this.initValues();\n      } // Object.entries(this.data).length === 0 ? this.initValues() : { this.dataId, this.dataName, this.dataCategory, this.dataOrder_status, this.dataPrice } = JSON.parse(JSON.stringify(this.data))\n\n    }\n  },\n  computed: {\n    isSidebarActiveLocal: {\n      get: function get() {\n        return this.isSidebarActive;\n      },\n      set: function set(val) {\n        if (!val) {\n          this.$emit('closeSidebar'); // this.$validator.reset()\n          // this.initValues()\n        }\n      }\n    },\n    isFormValid: function isFormValid() {\n      return !this.errors.any() && this.dataName && this.dataCategory && this.dataPrice > 0;\n    },\n    scrollbarTag: function scrollbarTag() {\n      return this.$store.getters.scrollbarTag;\n    }\n  },\n  methods: {\n    initValues: function initValues() {\n      if (this.data.id) return;\n      this.dataId = null;\n      this.dataName = '';\n      this.dataCategory = null;\n      this.dataOrder_status = 'pending';\n      this.dataPrice = 0;\n      this.dataImg = null;\n    },\n    submitData: function submitData() {\n      var _this = this;\n\n      this.$validator.validateAll().then(function (result) {\n        if (result) {\n          var obj = {\n            id: _this.dataId,\n            name: _this.dataName,\n            img: _this.dataImg,\n            category: _this.dataCategory,\n            order_status: _this.dataOrder_status,\n            price: _this.dataPrice\n          };\n\n          if (_this.dataId !== null && _this.dataId >= 0) {\n            _this.$store.dispatch('dataList/updateItem', obj).catch(function (err) {\n              console.error(err);\n            });\n          } else {\n            delete obj.id;\n            obj.popularity = 0;\n\n            _this.$store.dispatch('dataList/addItem', obj).catch(function (err) {\n              console.error(err);\n            });\n          }\n\n          _this.$emit('closeSidebar');\n\n          _this.initValues();\n        }\n      });\n    },\n    updateCurrImg: function updateCurrImg(input) {\n      var _this2 = this;\n\n      if (input.target.files && input.target.files[0]) {\n        var reader = new FileReader();\n\n        reader.onload = function (e) {\n          _this2.dataImg = e.target.result;\n        };\n\n        reader.readAsDataURL(input.target.files[0]);\n      }\n    }\n  }\n};",{"version":3,"sources":["DataViewSidebar.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- =========================================================================================\n  File Name: AddNewDataSidebar.vue\n  Description: Add New Data - Sidebar component\n  ----------------------------------------------------------------------------------------\n  Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\n  Author: Pixinvent\n  Author URL: http://www.themeforest.net/user/pixinvent\n========================================================================================== -->\n\n\n<template>\n  <vs-sidebar click-not-close position-right parent=\"body\" default-index=\"1\" color=\"primary\" class=\"add-new-data-sidebar items-no-padding\" spacer v-model=\"isSidebarActiveLocal\">\n    <div class=\"mt-6 flex items-center justify-between px-6\">\n        <h4>{{ Object.entries(this.data).length === 0 ? \"ADD NEW\" : \"UPDATE\" }} ITEM</h4>\n        <feather-icon icon=\"XIcon\" @click.stop=\"isSidebarActiveLocal = false\" class=\"cursor-pointer\"></feather-icon>\n    </div>\n    <vs-divider class=\"mb-0\"></vs-divider>\n\n    <component :is=\"scrollbarTag\" class=\"scroll-area--data-list-add-new\" :settings=\"settings\" :key=\"$vs.rtl\">\n\n      <div class=\"p-6\">\n\n        <!-- Product Image -->\n        <template v-if=\"dataImg\">\n\n          <!-- Image Container -->\n          <div class=\"img-container w-64 mx-auto flex items-center justify-center\">\n            <img :src=\"dataImg\" alt=\"img\" class=\"responsive\">\n          </div>\n\n          <!-- Image upload Buttons -->\n          <div class=\"modify-img flex justify-between mt-5\">\n            <input type=\"file\" class=\"hidden\" ref=\"updateImgInput\" @change=\"updateCurrImg\" accept=\"image/*\">\n            <vs-button class=\"mr-4\" type=\"flat\" @click=\"$refs.updateImgInput.click()\">Update Image</vs-button>\n            <vs-button type=\"flat\" color=\"#999\" @click=\"dataImg = null\">Remove Image</vs-button>\n          </div>\n        </template>\n\n        <!-- NAME -->\n        <vs-input label=\"Name\" v-model=\"dataName\" class=\"mt-5 w-full\" name=\"item-name\" v-validate=\"'required'\" />\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('item-name')\">{{ errors.first('item-name') }}</span>\n\n        <!-- CATEGORY -->\n        <vs-select v-model=\"dataCategory\" label=\"Category\" class=\"mt-5 w-full\" name=\"item-category\" v-validate=\"'required'\">\n          <vs-select-item :key=\"item.value\" :value=\"item.value\" :text=\"item.text\" v-for=\"item in category_choices\" />\n        </vs-select>\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('item-category')\">{{ errors.first('item-category') }}</span>\n\n        <!-- ORDER STATUS -->\n        <vs-select v-model=\"dataOrder_status\" label=\"Order Status\" class=\"mt-5 w-full\">\n          <vs-select-item :key=\"item.value\" :value=\"item.value\" :text=\"item.text\" v-for=\"item in order_status_choices\" />\n        </vs-select>\n\n        <!-- PRICE -->\n        <vs-input\n          icon-pack=\"feather\"\n          icon=\"icon-dollar-sign\"\n          label=\"Price\"\n          v-model=\"dataPrice\"\n          class=\"mt-5 w-full\"\n          v-validate=\"{ required: true, regex: /\\d+(\\.\\d+)?$/ }\"\n          name=\"item-price\" />\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('item-price')\">{{ errors.first('item-price') }}</span>\n\n        <!-- Upload -->\n        <!-- <vs-upload text=\"Upload Image\" class=\"img-upload\" ref=\"fileUpload\" /> -->\n\n        <div class=\"upload-img mt-5\" v-if=\"!dataImg\">\n          <input type=\"file\" class=\"hidden\" ref=\"uploadImgInput\" @change=\"updateCurrImg\" accept=\"image/*\">\n          <vs-button @click=\"$refs.uploadImgInput.click()\">Upload Image</vs-button>\n        </div>\n      </div>\n    </component>\n\n    <div class=\"flex flex-wrap items-center p-6\" slot=\"footer\">\n      <vs-button class=\"mr-6\" @click=\"submitData\" :disabled=\"!isFormValid\">Submit</vs-button>\n      <vs-button type=\"border\" color=\"danger\" @click=\"isSidebarActiveLocal = false\">Cancel</vs-button>\n    </div>\n  </vs-sidebar>\n</template>\n\n<script>\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar'\n\nexport default {\n  props: {\n    isSidebarActive: {\n      type: Boolean,\n      required: true\n    },\n    data: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  components: {\n    VuePerfectScrollbar\n  },\n  data () {\n    return {\n\n      dataId: null,\n      dataName: '',\n      dataCategory: null,\n      dataImg: null,\n      dataOrder_status: 'pending',\n      dataPrice: 0,\n\n      category_choices: [\n        {text:'Audio', value:'audio'},\n        {text:'Computers', value:'computers'},\n        {text:'Fitness', value:'fitness'},\n        {text:'Appliance', value:'appliance'}\n      ],\n\n      order_status_choices: [\n        {text:'Pending', value:'pending'},\n        {text:'Canceled', value:'canceled'},\n        {text:'Delivered', value:'delivered'},\n        {text:'On Hold', value:'on_hold'}\n      ],\n      settings: { // perfectscrollbar settings\n        maxScrollbarLength: 60,\n        wheelSpeed: .60\n      }\n    }\n  },\n  watch: {\n    isSidebarActive (val) {\n      if (!val) return\n      if (Object.entries(this.data).length === 0) {\n        this.initValues()\n        this.$validator.reset()\n      } else {\n        const { category, id, img, name, order_status, price } = JSON.parse(JSON.stringify(this.data))\n        this.dataId = id\n        this.dataCategory = category\n        this.dataImg = img\n        this.dataName = name\n        this.dataOrder_status = order_status\n        this.dataPrice = price\n        this.initValues()\n      }\n      // Object.entries(this.data).length === 0 ? this.initValues() : { this.dataId, this.dataName, this.dataCategory, this.dataOrder_status, this.dataPrice } = JSON.parse(JSON.stringify(this.data))\n    }\n  },\n  computed: {\n    isSidebarActiveLocal: {\n      get () {\n        return this.isSidebarActive\n      },\n      set (val) {\n        if (!val) {\n          this.$emit('closeSidebar')\n          // this.$validator.reset()\n          // this.initValues()\n        }\n      }\n    },\n    isFormValid () {\n      return !this.errors.any() && this.dataName && this.dataCategory && this.dataPrice > 0\n    },\n    scrollbarTag () { return this.$store.getters.scrollbarTag }\n  },\n  methods: {\n    initValues () {\n      if (this.data.id) return\n      this.dataId = null\n      this.dataName = ''\n      this.dataCategory = null\n      this.dataOrder_status = 'pending'\n      this.dataPrice = 0\n      this.dataImg = null\n    },\n    submitData () {\n      this.$validator.validateAll().then(result => {\n        if (result) {\n          const obj = {\n            id: this.dataId,\n            name: this.dataName,\n            img: this.dataImg,\n            category: this.dataCategory,\n            order_status: this.dataOrder_status,\n            price: this.dataPrice\n          }\n\n          if (this.dataId !== null && this.dataId >= 0) {\n            this.$store.dispatch('dataList/updateItem', obj).catch(err => { console.error(err) })\n          } else {\n            delete obj.id\n            obj.popularity = 0\n            this.$store.dispatch('dataList/addItem', obj).catch(err => { console.error(err) })\n          }\n\n          this.$emit('closeSidebar')\n          this.initValues()\n        }\n      })\n    },\n    updateCurrImg (input) {\n      if (input.target.files && input.target.files[0]) {\n        const reader = new FileReader()\n        reader.onload = e => {\n          this.dataImg = e.target.result\n        }\n        reader.readAsDataURL(input.target.files[0])\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.add-new-data-sidebar {\n  ::v-deep .vs-sidebar--background {\n    z-index: 52010;\n  }\n\n  ::v-deep .vs-sidebar {\n    z-index: 52010;\n    width: 400px;\n    max-width: 90vw;\n\n    .img-upload {\n      margin-top: 2rem;\n\n      .con-img-upload {\n        padding: 0;\n      }\n\n      .con-input-upload {\n        width: 100%;\n        margin: 0;\n      }\n    }\n  }\n}\n\n.scroll-area--data-list-add-new {\n    // height: calc(var(--vh, 1vh) * 100 - 4.3rem);\n    height: calc(var(--vh, 1vh) * 100 - 16px - 45px - 82px);\n\n    &:not(.ps) {\n      overflow-y: auto;\n    }\n}\n</style>\n"],"sourceRoot":"src/views/ui-elements/data-list"}]}