{"remainingRequest":"/Users/gim-yeongjae/Desktop/storelink3-admin/node_modules/thread-loader/dist/cjs.js!/Users/gim-yeongjae/Desktop/storelink3-admin/node_modules/babel-loader/lib/index.js!/Users/gim-yeongjae/Desktop/storelink3-admin/src/store/email/moduleEmailMutations.js","dependencies":[{"path":"/Users/gim-yeongjae/Desktop/storelink3-admin/src/store/email/moduleEmailMutations.js","mtime":1610509510817},{"path":"/Users/gim-yeongjae/Desktop/storelink3-admin/node_modules/cache-loader/dist/cjs.js","mtime":1610346344693},{"path":"/Users/gim-yeongjae/Desktop/storelink3-admin/node_modules/thread-loader/dist/cjs.js","mtime":1610344922450},{"path":"/Users/gim-yeongjae/Desktop/storelink3-admin/node_modules/babel-loader/lib/index.js","mtime":1610344922456}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/web.dom.iterable\";\n\n/*=========================================================================================\n  File Name: moduleEmailMutations.js\n  Description: Email Module Mutations\n  ----------------------------------------------------------------------------------------\n  Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\n  Author: Pixinvent\n  Author URL: http://www.themeforest.net/user/pixinvent\n==========================================================================================*/\nexport default {\n  SET_EMAIL_SEARCH_QUERY: function SET_EMAIL_SEARCH_QUERY(state, query) {\n    state.mailSearchQuery = query;\n  },\n  SET_MAILS: function SET_MAILS(state, mails) {\n    state.mails = mails;\n  },\n  SET_TAGS: function SET_TAGS(state, tags) {\n    state.mailTags = tags;\n  },\n  SET_META: function SET_META(state, meta) {\n    state.meta = meta;\n  },\n  UPDATE_MAIL_FILTER: function UPDATE_MAIL_FILTER(state, filterName) {\n    state.mail_filter = filterName;\n  },\n  UPDATE_LABELS: function UPDATE_LABELS(state, payload) {\n    payload.mails.forEach(function (mailId) {\n      var mailIndex = state.mails.findIndex(function (mail) {\n        return mail.id === mailId;\n      });\n      var index = state.mails[mailIndex].labels.indexOf(payload.label);\n      if (index === -1) state.mails[mailIndex].labels.push(payload.label);else state.mails[mailIndex].labels.splice(index, 1);\n    });\n  },\n  SET_LABELS: function SET_LABELS(state, payload) {\n    state.mails.find(function (mail) {\n      return mail.id === payload.mailId;\n    }).labels = payload.labels;\n  },\n  SET_UNREAD: function SET_UNREAD(state, payload) {\n    payload.emailIds.forEach(function (mailId) {\n      var mailIndex = state.mails.findIndex(function (mail) {\n        return mail.id === mailId;\n      });\n      if (mailIndex !== -1) state.mails[mailIndex].unread = payload.unreadFlag;\n    });\n  },\n  MOVE_MAILS_TO: function MOVE_MAILS_TO(state, payload) {\n    payload.emailIds.forEach(function (mailId) {\n      var mailIndex = state.mails.findIndex(function (mail) {\n        return mail.id === mailId;\n      }); // Update draft meta\n      // If moving from draft mailFolder decrease draft meta by removing mailId\n\n      if (state.mails[mailIndex].mailFolder === 'draft') {\n        state.meta.draftMails.splice(state.meta.draftMails.findIndex(function (i) {\n          return i === mailId;\n        }), 1);\n      } // Else increase by pushing mailId\n\n\n      if (payload.to === 'draft') {\n        state.meta.draftMails.push(mailId);\n      }\n\n      state.mails[mailIndex].mailFolder = payload.to;\n    });\n  },\n  TOGGLE_IS_MAIL_STARRED: function TOGGLE_IS_MAIL_STARRED(state, payload) {\n    state.mails.find(function (mail) {\n      return mail.id === payload.mailId;\n    }).isStarred = payload.value;\n  },\n  // If your process of fetching is different than ours. Please update action and mutation\n  // Maybe this mutation is redundant for you. Feel free to remove it.\n  UPDATE_UNREAD_META: function UPDATE_UNREAD_META(state, payload) {\n    var _loop = function _loop(folder) {\n      // If folder is same as current filter\n      if (folder === state.mail_filter) {\n        if (payload.unreadFlag) {\n          // If unread flag is true - increase count\n          payload.emailIds.forEach(function (mailId) {\n            if (state.meta.unreadMails.folder[folder].indexOf(mailId) === -1) state.meta.unreadMails.folder[folder].push(mailId);\n          });\n        } else {\n          // else reduce unread mails count\n          payload.emailIds.forEach(function (mailId) {\n            var mailIdIndex = state.meta.unreadMails.folder[folder].indexOf(mailId);\n            if (mailIdIndex !== -1) state.meta.unreadMails.folder[folder].splice(mailIdIndex, 1);\n          });\n        }\n      }\n    };\n\n    // Loop over email meta\n    for (var folder in state.meta.unreadMails.folder) {\n      _loop(folder);\n    }\n  },\n  UPDATE_UNREAD_META_ON_MOVE: function UPDATE_UNREAD_META_ON_MOVE(state, payload) {\n    // Updating Draft meta is handled by \"MOVE_MAILS_TO\" mutation\n    payload.emailIds.forEach(function (mailId) {\n      var mail = state.mails.find(function (mail) {\n        return mail.id === mailId;\n      });\n\n      if (mail.unread) {\n        var cf_unread_mails = state.meta.unreadMails.folder[state.mail_filter];\n\n        if (cf_unread_mails) {\n          cf_unread_mails.splice(cf_unread_mails.indexOf(mailId), 1);\n        }\n\n        if (state.meta.unreadMails.folder[payload.to]) state.meta.unreadMails.folder[payload.to].push(mailId);\n      }\n    });\n  }\n};",{"version":3,"sources":["/Users/gim-yeongjae/Desktop/storelink3-admin/src/store/email/moduleEmailMutations.js"],"names":["SET_EMAIL_SEARCH_QUERY","state","query","mailSearchQuery","SET_MAILS","mails","SET_TAGS","tags","mailTags","SET_META","meta","UPDATE_MAIL_FILTER","filterName","mail_filter","UPDATE_LABELS","payload","forEach","mailId","mailIndex","findIndex","mail","id","index","labels","indexOf","label","push","splice","SET_LABELS","find","SET_UNREAD","emailIds","unread","unreadFlag","MOVE_MAILS_TO","mailFolder","draftMails","i","to","TOGGLE_IS_MAIL_STARRED","isStarred","value","UPDATE_UNREAD_META","folder","unreadMails","mailIdIndex","UPDATE_UNREAD_META_ON_MOVE","cf_unread_mails"],"mappings":"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","sourcesContent":["/*=========================================================================================\n  File Name: moduleEmailMutations.js\n  Description: Email Module Mutations\n  ----------------------------------------------------------------------------------------\n  Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\n  Author: Pixinvent\n  Author URL: http://www.themeforest.net/user/pixinvent\n==========================================================================================*/\n\n\nexport default {\n  SET_EMAIL_SEARCH_QUERY (state, query) {\n    state.mailSearchQuery = query\n  },\n  SET_MAILS (state, mails) {\n    state.mails = mails\n  },\n  SET_TAGS (state, tags) {\n    state.mailTags = tags\n  },\n  SET_META (state, meta) {\n    state.meta = meta\n  },\n  UPDATE_MAIL_FILTER (state, filterName) {\n    state.mail_filter = filterName\n  },\n  UPDATE_LABELS (state, payload) {\n    payload.mails.forEach((mailId) => {\n      const mailIndex = state.mails.findIndex((mail) => mail.id === mailId)\n      const index = state.mails[mailIndex].labels.indexOf(payload.label)\n\n      if (index === -1) state.mails[mailIndex].labels.push(payload.label)\n      else state.mails[mailIndex].labels.splice(index, 1)\n    })\n  },\n  SET_LABELS (state, payload) {\n    state.mails.find((mail) => mail.id === payload.mailId).labels = payload.labels\n  },\n  SET_UNREAD (state, payload) {\n    payload.emailIds.forEach((mailId) => {\n      const mailIndex = state.mails.findIndex((mail) => mail.id === mailId)\n      if (mailIndex !== -1) state.mails[mailIndex].unread = payload.unreadFlag\n    })\n  },\n\n  MOVE_MAILS_TO (state, payload) {\n    payload.emailIds.forEach((mailId) => {\n      const mailIndex = state.mails.findIndex((mail) => mail.id === mailId)\n\n      // Update draft meta\n      // If moving from draft mailFolder decrease draft meta by removing mailId\n      if (state.mails[mailIndex].mailFolder === 'draft') {\n        state.meta.draftMails.splice(state.meta.draftMails.findIndex(i => i === mailId), 1)\n      }\n      // Else increase by pushing mailId\n      if (payload.to === 'draft') {\n        state.meta.draftMails.push(mailId)\n      }\n\n      state.mails[mailIndex].mailFolder = payload.to\n    })\n  },\n\n  TOGGLE_IS_MAIL_STARRED (state, payload) {\n    state.mails.find((mail) => mail.id === payload.mailId).isStarred = payload.value\n  },\n\n  // If your process of fetching is different than ours. Please update action and mutation\n  // Maybe this mutation is redundant for you. Feel free to remove it.\n  UPDATE_UNREAD_META (state, payload) {\n\n    // Loop over email meta\n    for (const folder in state.meta.unreadMails.folder) {\n\n      // If folder is same as current filter\n      if (folder === state.mail_filter) {\n\n        if (payload.unreadFlag) {\n\n          // If unread flag is true - increase count\n          payload.emailIds.forEach((mailId) => {\n            if (state.meta.unreadMails.folder[folder].indexOf(mailId) === -1) state.meta.unreadMails.folder[folder].push(mailId)\n          })\n        } else {\n\n          // else reduce unread mails count\n          payload.emailIds.forEach((mailId) => {\n            const mailIdIndex = state.meta.unreadMails.folder[folder].indexOf(mailId)\n            if (mailIdIndex !== -1) state.meta.unreadMails.folder[folder].splice(mailIdIndex, 1)\n          })\n        }\n\n      }\n    }\n  },\n  UPDATE_UNREAD_META_ON_MOVE (state, payload) {\n\n    // Updating Draft meta is handled by \"MOVE_MAILS_TO\" mutation\n\n    payload.emailIds.forEach((mailId) => {\n      const mail = state.mails.find((mail) => mail.id === mailId)\n\n      if (mail.unread) {\n        const cf_unread_mails = state.meta.unreadMails.folder[state.mail_filter]\n        if (cf_unread_mails) {\n          cf_unread_mails.splice(cf_unread_mails.indexOf(mailId), 1)\n        }\n        if (state.meta.unreadMails.folder[payload.to]) state.meta.unreadMails.folder[payload.to].push(mailId)\n      }\n    })\n  }\n}\n"]}]}