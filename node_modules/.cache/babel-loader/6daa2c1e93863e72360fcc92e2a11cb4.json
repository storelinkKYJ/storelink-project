{"remainingRequest":"/Users/gim-yeongjae/Desktop/storelink-project/node_modules/babel-loader/lib/index.js!/Users/gim-yeongjae/Desktop/storelink-project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gim-yeongjae/Desktop/storelink-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gim-yeongjae/Desktop/storelink-project/src/views/DashboardECommerce.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gim-yeongjae/Desktop/storelink-project/src/views/DashboardECommerce.vue","mtime":1611124662947},{"path":"/Users/gim-yeongjae/Desktop/storelink-project/node_modules/cache-loader/dist/cjs.js","mtime":1610346344693},{"path":"/Users/gim-yeongjae/Desktop/storelink-project/node_modules/babel-loader/lib/index.js","mtime":1610344922456},{"path":"/Users/gim-yeongjae/Desktop/storelink-project/node_modules/cache-loader/dist/cjs.js","mtime":1610346344693},{"path":"/Users/gim-yeongjae/Desktop/storelink-project/node_modules/vue-loader/lib/index.js","mtime":1610344923547}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.filter\";\nimport _toConsumableArray from \"/Users/gim-yeongjae/Desktop/storelink-project/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport firebase from \"firebase\";\nvar _data = [];\nvar columns = [{\n  title: \"userName\",\n  dataIndex: \"userName\",\n  width: \"25%\",\n  scopedSlots: {\n    customRender: \"name\"\n  }\n}, {\n  title: \"userPhone\",\n  dataIndex: \"userPhone\",\n  width: \"15%\",\n  scopedSlots: {\n    customRender: \"userPhone\"\n  }\n}, {\n  title: \"email\",\n  dataIndex: \"email\",\n  width: \"40%\",\n  scopedSlots: {\n    customRender: \"email\"\n  }\n}, {\n  title: \"init\",\n  dataIndex: \"init\",\n  scopedSlots: {\n    customRender: \"init\"\n  }\n}, {\n  title: \"eventdttm\",\n  dataIndex: \"eventdttm\",\n  scopedSlots: {\n    customRender: \"eventdttm\"\n  }\n}, {\n  title: \"uid\",\n  dataIndex: \"uid\",\n  scopedSlots: {\n    customRender: \"uid\"\n  }\n}, {\n  title: \"operation\",\n  dataIndex: \"operation\",\n  scopedSlots: {\n    customRender: \"operation\"\n  }\n}];\nexport default {\n  data: function data() {\n    return {\n      data: _data,\n      columns: columns,\n      editingKey: \"\"\n    };\n  },\n  mounted: function mounted() {\n    var self = this;\n    var sref = firebase.database().ref(\"user/\");\n    sref.on(\"value\", function (sdata) {\n      sdata.forEach(function (sdatas) {\n        var _t = {\n          key: sdatas.key,\n          userName: sdatas.val().userName,\n          userPhone: sdatas.val().userPhone,\n          email: sdatas.val().email,\n          init: sdatas.val().init,\n          eventdttm: sdatas.val().eventdttm,\n          uid: sdatas.val().uid,\n          editable: false\n        };\n        self.data.push(_t);\n      });\n    }); // console.log(this.data);\n  },\n  methods: {\n    handleChange: function handleChange(value, key, column) {\n      var newData = _toConsumableArray(this.data);\n\n      var target = newData.filter(function (item) {\n        return key === item.key;\n      })[0];\n\n      if (target) {\n        target[column] = value;\n        this.data = newData;\n      }\n    },\n    edit: function edit(key) {\n      var newData = _toConsumableArray(this.data);\n\n      var target = newData.filter(function (item) {\n        return key === item.key;\n      })[0];\n      this.editingKey = key;\n\n      if (target) {\n        target.editable = true;\n        this.data = newData;\n      }\n    },\n    save: function save(key, value, column, record) {\n      var newData = _toConsumableArray(this.data);\n\n      var target = newData.filter(function (item) {\n        return key === item.key;\n      })[0];\n      var newPostKey = firebase.database().ref().child(\"posts\").push().key;\n      var updateRef = firebase.database().ref(\"user/\".concat(key));\n\n      if (target) {\n        target.editable = false;\n        this.data = newData;\n      }\n\n      console.log(target);\n      updateRef.set({\n        email: target.email,\n        userPhone: target.userPhone,\n        init: target.init,\n        eventdttm: new Date(),\n        uid: target.uid,\n        key: newPostKey\n      });\n      this.editingKey = \"\";\n    },\n    cancel: function cancel(key) {\n      this.data = [];\n      var self = this;\n      var delRef = firebase.database().ref(\"user/\".concat(key));\n      delRef.remove().then(function () {\n        alert(\"del\");\n        self.editingKey = \"\";\n        key.editable = false;\n      });\n\n      var newData = _toConsumableArray(this.data);\n\n      var target = newData.filter(function (item) {\n        return key === item.key;\n      })[0];\n      this.editingKey = key;\n\n      if (target) {\n        target.editable = false;\n        this.data = newData;\n      }\n    }\n  }\n};",{"version":3,"sources":["DashboardECommerce.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- =========================================================================================\n    File Name: DashboardEcommerce.vue\n    Description: Dashboard - Ecommerce\n    ----------------------------------------------------------------------------------------\n    Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\n      Author: Pixinvent\n    Author URL: http://www.themeforest.net/user/pixinvent\n========================================================================================== -->\n\n<template>\n  <a-table :columns=\"columns\" :data-source=\"data\" bordered>\n    <template\n      v-for=\"col in [\n        'userName',\n        'userPhone',\n        'email',\n        'init',\n        'eventdttm',\n        'uid',\n      ]\"\n      :slot=\"col\"\n      slot-scope=\"text, record\"\n    >\n      <div :key=\"col\">\n        <a-input\n          v-if=\"record.editable\"\n          style=\"margin: -5px 0\"\n          :value=\"text\"\n          @change=\"(e) => handleChange(e.target.value, record.key, col)\"\n        />\n        <template v-else>\n          {{ text }}\n        </template>\n      </div>\n    </template>\n    <template slot=\"operation\" slot-scope=\"text, record\">\n      <div class=\"editable-row-operations\">\n        <span v-if=\"record.editable\">\n          <a @click=\"() => save(record.key)\">Save</a>\n\n          <a :disabled=\"editingKey == ''\" @click=\"() => cancel(record.key)\"\n            >delete</a\n          >\n        </span>\n        <span v-else>\n          <a :disabled=\"editingKey !== ''\" @click=\"() => edit(record.key)\"\n            >Edit</a\n          >\n        </span>\n      </div>\n    </template>\n  </a-table>\n</template>\n\n<script>\nimport firebase from \"firebase\";\nconst data = [];\nconst columns = [\n  {\n    title: \"userName\",\n    dataIndex: \"userName\",\n    width: \"25%\",\n    scopedSlots: { customRender: \"name\" },\n  },\n  {\n    title: \"userPhone\",\n    dataIndex: \"userPhone\",\n    width: \"15%\",\n    scopedSlots: { customRender: \"userPhone\" },\n  },\n  {\n    title: \"email\",\n    dataIndex: \"email\",\n    width: \"40%\",\n    scopedSlots: { customRender: \"email\" },\n  },\n  {\n    title: \"init\",\n    dataIndex: \"init\",\n    scopedSlots: { customRender: \"init\" },\n  },\n  {\n    title: \"eventdttm\",\n    dataIndex: \"eventdttm\",\n    scopedSlots: { customRender: \"eventdttm\" },\n  },\n  {\n    title: \"uid\",\n    dataIndex: \"uid\",\n    scopedSlots: { customRender: \"uid\" },\n  },\n  {\n    title: \"operation\",\n    dataIndex: \"operation\",\n    scopedSlots: { customRender: \"operation\" },\n  },\n];\n\nexport default {\n  data() {\n    return {\n      data,\n      columns,\n      editingKey: \"\",\n    };\n  },\n\n  mounted() {\n    const self = this;\n    const sref = firebase.database().ref(\"user/\");\n    sref.on(\"value\", function (sdata) {\n      sdata.forEach(function (sdatas) {\n        const _t = {\n          key: sdatas.key,\n          userName: sdatas.val().userName,\n          userPhone: sdatas.val().userPhone,\n          email: sdatas.val().email,\n          init: sdatas.val().init,\n          eventdttm: sdatas.val().eventdttm,\n          uid: sdatas.val().uid,\n          editable: false,\n        };\n        self.data.push(_t);\n      });\n    });\n\n    // console.log(this.data);\n  },\n  methods: {\n    handleChange(value, key, column) {\n      const newData = [...this.data];\n      const target = newData.filter((item) => key === item.key)[0];\n      if (target) {\n        target[column] = value;\n        this.data = newData;\n      }\n    },\n    edit(key) {\n      const newData = [...this.data];\n      const target = newData.filter((item) => key === item.key)[0];\n      this.editingKey = key;\n      if (target) {\n        target.editable = true;\n        this.data = newData;\n      }\n    },\n    save(key, value, column, record) {\n      const newData = [...this.data];\n      const target = newData.filter((item) => key === item.key)[0];\n      let newPostKey = firebase.database().ref().child(\"posts\").push().key;\n      const updateRef = firebase.database().ref(`user/${key}`);\n      if (target) {\n        target.editable = false;\n        this.data = newData;\n      }\n      console.log(target);\n      updateRef.set({\n        email: target.email,\n        userPhone: target.userPhone,\n        init: target.init,\n        eventdttm: new Date(),\n        uid: target.uid,\n        key: newPostKey,\n      });\n      this.editingKey = \"\";\n    },\n    cancel(key) {\n      this.data = [];\n      const self = this;\n      const delRef = firebase.database().ref(`user/${key}`);\n      delRef.remove().then(function () {\n        alert(\"del\");\n        self.editingKey = \"\";\n        key.editable = false;\n      });\n      const newData = [...this.data];\n      const target = newData.filter((item) => key === item.key)[0];\n      this.editingKey = key;\n      if (target) {\n        target.editable = false;\n        this.data = newData;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.editable-row-operations a {\n  margin-right: 8px;\n}\n</style>\n"],"sourceRoot":"src/views"}]}